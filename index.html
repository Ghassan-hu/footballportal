<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="">
    <meta name="author" content="">

    <title>نادي قلنديا البلد</title>

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;400;700&display=swap" rel="stylesheet">

    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link href="css/bootstrap-icons.css" rel="stylesheet">

    <link href="home.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

   
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>


    
    

    <link href="css/main.css" rel="stylesheet">


</head>

<body>

    <main>

  


        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                 <img src="images/Soccer-Ball--Streamline-Ultimate.png" alt="Logo" id="logoimg">
                </a>

                <a href="login.html" class="btn custom-btn d-lg-none ms-auto me-4">تسجيل الدخول / الاشتراك</a>

                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav align-items-lg-center ms-auto me-lg-5">
                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_1">Home</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_2">Services</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_3">Booking Schedule</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_4">Booking Request</a>
                        </li>
                        

                        <li class="nav-item">
                            <a class="nav-link click-scroll" href="#section_5">معلومات عنا</a>
                        </li>
                    </ul>

                    <a href="login.html" class="btn custom-btn d-lg-block d-none">تسجيل الدخول / الاشتراك</a>
                </div>
            </div>
        </nav>


        <section class="hero-section" id="section_1">
            <div class="section-overlay"></div>

            <div class="container d-flex justify-content-center align-items-center">
                <div class="row">

                    <div class="col-12 mt-auto mb-5 text-center">
                        <small>أكاديمية | ملعب كرة قدم</small>
                        <h1 class="text-white mb-5">مرحباً بكم في موقع نادي قلنديا الرسمي</h1>

                        <div>
                         

                        
                        
                        </div>
                    </div>

                    <div class="col-lg-12 col-12 mt-auto d-flex flex-column flex-lg-row text-center">
                        <div class="date-wrap">
                        
                        </div>

                        <div class="location-wrap mx-auto py-3 py-lg-0">
                            <h5 class="text-white">
                                <i class="custom-icon bi-geo-alt me-2"></i>
                                قلنديا، القدس الشرقية
                            </h5>
                        </div>

                        <div class="social-share">
                            <ul class="social-icon d-flex align-items-center justify-content-center">
                               
                                <li class="social-icon-item">
                                    <a href="#" class="social-icon-link">
                                        <span class="bi-facebook"></span>
                                    </a>
                                </li>

                                <li class="social-icon-item">
                                    <a href="#" class="social-icon-link">
                                        <span class="bi-twitter"></span>
                                    </a>
                                </li>

                                <li class="social-icon-item">
                                    <a href="#" class="social-icon-link">
                                        <span class="bi-instagram"></span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="video-wrap">
                <video autoplay="" loop="" muted="" class="custom-video" poster="">
                    <source src="video/1.mp4" type="video/mp4">

                    Your browser does not support the video tag.
                </video>
            </div>
        </section>

        <section class="" id="section_2" style="position: relative; z-index: 1;overflow: hidden; background-color: #f7f7f7;box-shadow: 0 4px 20px rgba(238, 80, 7, 0.3); border-radius: 8px; padding: 20px; margin: 20px 20px;">
            <div class="container">
                <div class="text-center mb-4">
                    <a class="btn custom-btn d-block mx-auto" style="width: 200px; height: auto; font-size: 1.5rem;">
                        Our Services
                    </a>
                </div>
                
                <div class="row">
                    <div class="col-lg-6 col-12 mb-4">
                        <div class="service-box" style="background-color: #ffffff; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); border-radius: 8px; padding: 20px; text-align: center;">
                            <div class="icon" style="font-size: 40px; margin-bottom: 10px;">
                                <i class="fas fa-futbol"></i> <!-- Football icon -->
                            </div>
                            <h4>Football Training for Children</h4>
                            <p>Engaging training sessions for kids to develop their football skills.</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-12 mb-4">
                        <div class="service-box" style="background-color: #ffffff; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); border-radius: 8px; padding: 20px; text-align: center;">
                            <div class="icon" style="font-size: 40px; margin-bottom: 10px;">
                                <i class="fas fa-trophy"></i> <!-- Trophy icon -->
                            </div>
                            <h4>Organizing Local Tournaments</h4>
                            <p>We organize local tournaments to promote community engagement.</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-12 mb-4">
                        <div class="service-box" style="background-color: #ffffff; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); border-radius: 8px; padding: 20px; text-align: center;">
                            <div class="icon" style="font-size: 40px; margin-bottom: 10px;">
                                <i class="fas fa-landmark"></i> <!-- Playground icon -->
                            </div>
                            <h4>Playground Rental</h4>
                            <p>For games,events, providing a perfect space for sports and activities.</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-12 mb-4">
                        <div class="service-box" style="background-color: #ffffff; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); border-radius: 8px; padding: 20px; text-align: center;">
                            <div class="icon" style="font-size: 40px; margin-bottom: 10px;">
                                <i class="fas fa-dumbbell"></i> <!-- Fitness icon -->
                            </div>
                            <h4>Fitness Programs</h4>
                            <p>Comprehensive fitness programs designed to enhance health and wellness.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        


        <section class="" id="section_3" style="background-color: #f7f7f7;box-shadow: 0 4px 20px rgba(238, 80, 7, 0.3); border-radius: 8px; padding: 20px; margin: 20px 20px;">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                    
                        <div class="text-center mb-4">
                            <a class="btn custom-btn d-block mx-auto" style="width: 250px; height: auto; font-size: 1.5rem;">
                                Bookings Schedule
                            </a>
                        </div>
                        <div class="table-responsive">
                            <table class="schedule-table table table-dark" id="scheduleTable">
                                <thead>
                                    <tr>
                                        <th scope="col">Date</th>
                                        <th scope="col">Name</th>
                                        <th scope="col">Time</th>
                                        <th scope="col">Contact</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        


        <section class="section-padding" id="section_4" style="background-color: #f7f7f7;box-shadow: 0 4px 20px rgba(238, 80, 7, 0.3); border-radius: 8px; padding: 20px; margin: 20px 20px;">
            <div class="section-overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="text-center mb-4">
                        <a class="btn custom-btn d-block mx-auto" style="width: 300px; height: auto; font-size: 1.5rem;">
                            New Request Booking
                        </a>
                    </div>
                    <div class="col-lg-6 col-10 mx-auto">
                        <form id="bookingForm" class="custom-form ticket-form mb-5 mb-lg-0" action="#" method="post" role="form">
                        <h4 class="text-center mb-4">Add Request!</h4>
                            <div class="ticket-form-body">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-12">
                                        <input type="text" name="firstname" id="firstname" class="form-control" placeholder="First Name" required>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-12">
                                        <input type="text" name="lastname" id="lastname" class="form-control" placeholder="Last Name" required>
                                    </div>
                                </div>
                                <input type="tel" class="form-control" name="ticket-form-phone" id="phone"  
                                placeholder="Phone (e.g. 0501234567 or 0591234567)" 
                                pattern="^(05[0-4][0-9]{7}|05[6-9][0-9]{7}|059[0-9]{7})$" required>
                        <div class="row mb-3">
                            <div class="col-lg-6 col-md-6 col-12">
                                <label for="todayDate">Booking Date</label>
                                <input type="date" name="todayDate" id="todayDate" class="form-control" required>
                            </div>
                            <div class="col-lg-6 col-md-6 col-12">
                                <label for="startTime">Start Time</label>
                                <input type="time" name="startTime" id="startTime" class="form-control" required>
                            </div>
                            <div class="col-lg-6 col-md-6 col-12">
                                <label for="endTime">End Time</label>
                                <input type="time" name="endTime" id="endTime" class="form-control" disabled>
                            </div>
                            <div class="col-lg-6 col-md-6 col-12">
                                <label for="amount">Amount (₪)</label>
                                <input type="text" name="amount" id="amount" class="form-control" disabled>
                            </div>
                        </div>
                                </div>
                                <div class="col-lg-4 col-md-10 col-8 mx-auto">
                                    <button type="submit" class="form-control">Add Request</button>
                                </div>
                            </div>
                        </form>
                        <div id="responseMessage" class="text-center mt-3"></div>
                    </div>
                </div>
            </div>
        </section>

    
        <section id="section_5" style="background-color: #ffffff;box-shadow: 0 4px 20px rgba(238, 80, 7, 0.3); border-radius: 8px; padding: 20px; margin: 20px 20px;">
            <div class="container">
                <div class="row" style="margin-top: 20px;">
             

                    <div class="text-center mb-4">
                        <a class="btn custom-btn d-block mx-auto" style="width: 300px; height: auto; font-size: 1.5rem;">
                            معلومات عنا 
                        </a>
                    </div>

                    <div class="col-lg-8 col-12 mx-auto">
                        <h4 class="text-center mb-4" style="margin-top: 10px; color: green;">مرحباً بكم في نادينا</h4>
                    </div>

            <div class="about-us-container" style="background-color: #f1f0f0; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); padding: 20px; border-radius: 8px; margin: 20px auto; max-width:80%;">
               
                <p>
                    نادي قلنديا البلد الرياضي نادي مقدسي فلسطيني تأسس عام ٢٠٢٤ تحت مظلة المجلس الأعلى للشباب والرياضة 
                    وبترخيص من وزارة الداخلية بتضافر جهود شباب وأهالي ومؤسسات قلنديا البلد.
                
                    رؤيتنا.. وسط كل هذا الظلم والظلام الذي يعايشه وطننا الحبيب، تضافرت مؤسسات قريتنا، وتكاتفت خيرة شبابها، 
                    ثم أثمرت جهودهم ليعلنوا عن تأسيس نادي قلنديا البلد الرياضي، ليكون رافعًا للقرية وعنونًا من عناوين 
                    أصالتها، وبيت من بيوت خدمتها.
                
                    ومنذ اليوم الذي ولدت في الفكرة، كان تعزيز الهوية الوطنية، والرباط في عاصمتنا الأبدية، والسمو بالعنصر 
                    الإنساني والشبابي في القرية هو عنوان العمل، إلى جانب الاهتمام بالفئات الشبابية من الجنسين، عبر نشر 
                    ثقافة المبادرة وقيم التعاون وخدمة المجتمع والروح الإيجابية وتنمية ثقافة الرياضة بين الشباب، والسمو 
                    بهم وطنيًا ورياضيًا وأخلاقيًا صوب الاحتراف وتنمية مواهبهم وقدراتهم وجمعهم على حب الوطن والانحياز إلى 
                    جانب الخير.
                
                    نؤمن بأهمية العمل الشبابي في ظل ما عانيناه ونعانيه من إجراءات الاحتلال التي تخنق السكان وتستولي على 
                    أراضيهم، كما سبق أن استولت سلطاته على مطارنا وأراضينا الزراعية، وتستمر في التضييق علينا في البناء 
                    والحركة، وتمنع أي توسع وقامت بهدم البيوت وضيقت عيش الناس.
                
                    لقد وضعنا اللبنة الأولى في هذه المؤسسة، وأحلامنا بحجم السماء للقادم، يملؤنا اليقين بدعمكم والتفافكم 
                    وتصويبكم لمسيرتها، على عهد أن يكون النادي علامة فارقة في تاريخ قريتنا الحبيبة، ومصنع بناء للإنسان 
                    الفلسطيني كما يجب أن يكون.
                </p>
            </div>
            
        </div>
    </div>
        </section>

        <section class="contact-section section-padding" id="section_6" style="background-color: #f7f7f7;box-shadow: 0 4px 20px rgba(238, 80, 7, 0.3); border-radius: 8px; padding: 20px; margin: 20px 20px;">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-12 mx-auto">
                        <h2 class="text-center mb-4">Interested? Let's Visit</h2>

                        <nav class="d-flex justify-content-center">
                            <div class="nav nav-tabs align-items-baseline justify-content-center" id="nav-tab"
                                role="tablist">
                               

                                <button class="nav-link active" id="nav-ContactMap-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-ContactMap" type="button" role="tab"
                                    aria-controls="nav-ContactMap" aria-selected="true">
                                    <h5>Google Maps Location</h5>
                                </button>
                            </div>
                        </nav>

                            <div class="tab-pane active fade show" id="nav-ContactMap" role="tabpanel"
                                aria-labelledby="nav-ContactMap-tab">
                                <iframe class="google-map"
                                 src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d1052.3025683707783!2d35.20351926965121!3d31.864549998378635!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMzHCsDUxJzUyLjQiTiAzNcKwMTInMTUuMCJF!5e1!3m2!1sen!2sil!4v1729946604577!5m2!1sen!2sil"
   
                                width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade"></iframe>

                                <!-- You can easily copy the embed code from Google Maps -> Share -> Embed a map // -->
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <h5 class="mb-3 text-white">نادي قلنديا البلد</h5>
                    <p class="mb-0 text-white">نسعى لتعزيز الروح الرياضية وبناء مجتمع قوي.</p>
                </div>
                <div class="col-lg-4 col-md-6">
                    <h5 class="mb-3 text-white">تواصل معنا</h5>
                    <ul class="list-unstyled text-white">
                        <li class="text-white"><i class="fas fa-map-marker-alt me-2 text-white"></i> قلنديا، القدس الشرقية</li>
                        <li><i class="fas fa-phone me-2 text-white"></i> <a href="tel:0543923782" class="text-white">0543923782</a></li>
                        <li><i class="fas fa-envelope me-2 text-white"></i> <a href="mailto:ghassanhussen22@icloud.com" class="text-white">ghassanhussen22@icloud.com</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-12">
                    <h5 class="mb-3 text-white">تابعنا</h5>
                    <div class="social-icons">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4 bg-light">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0 text-white">&copy; 2024 نادي قلنديا البلد. جميع الحقوق محفوظة.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-0 text-white">تم التطوير بواسطة: <a href="#" class="text-white fw-bold">غسان حسين</a></p>
                </div>
            </div>
        </div>
    </footer>




   

    <!-- JAVASCRIPT FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/click-scroll.js"></script>
    <script src="js/custom.js"></script>

    <script>

         const responseMessageElement = document.getElementById('responseMessage');
         const form = document.getElementById('bookingForm'); 

        document.getElementById('bookingForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent the default form submission
    
            // Collect the form data
            const firstname = document.getElementById('firstname').value;
            const lastname = document.getElementById('lastname').value;
            const phone = document.getElementById('phone').value;
            const todayDate = document.getElementById('todayDate').value;
            const startTime = document.getElementById('startTime').value;
            const endTime = document.getElementById('endTime').value;
            const amount = document.getElementById('amount').value;
            

            // Fetch all bookings and check for conflicts
        const bookings = await fetchAllBookings();
        const isBooked = bookings.some(booking => 
            booking.todayDate.split('T')[0]=== todayDate && 
            booking.startTime === startTime 
           
        );

        if (isBooked) {
            Swal.fire({
        icon: 'error',
        title: 'Oops!',
        text: 'Request already exist for choosen time and date. Please change the time or date!',
        confirmButtonText: 'Okay'
    });
            return;
        }
    
            // Prepare the request body
            const requestBody = {
                Firstname: firstname,
                lastName: lastname,
                phone: phone,
                todayDate: todayDate,
                startTime: startTime,
                endTime: endTime,
                amount : amount

            };
    
            // add booking api 
            fetch('https://footballsite-apis-1.onrender.com/api/bookings/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(requestBody),
            })
            .then(response => {
        if (response.status === 201) {
          //  console.log(JSON.stringify(requestBody))
            return response.json(); // Parse the JSON if the response is successful
        } else {
            throw new Error('Something went wrong!'); // Handle other response statuses
        }
    })
    .then(data => {
       // Show SweetAlert success message
    Swal.fire({
        icon: 'success',
        title: 'Success!',
        text: 'Request added successfully!',
        confirmButtonText: 'Okay'
    });
        form.reset(); // Reset the form fields
    })
    .catch(error => {
        console.error('Error:', error);
        //responseMessageElement.innerText = 'An error occurred. Please try again.';
        Swal.fire({
        icon: 'error',
        title: 'Oops!',
        text: 'An error occurred. Please try again.',
        confirmButtonText: 'Okay'
    });
    });
});

document.getElementById('startTime').addEventListener('change', function() {
        const startTime = this.value;
        if (startTime) {
            const [hours, minutes] = startTime.split(':').map(Number);
            // Round down to the nearest hour
            const roundedHours = hours;
            const roundedMinutes = 0; // Set to 00
            document.getElementById('startTime').value = `${String(roundedHours).padStart(2, '0')}:${String(roundedMinutes).padStart(2, '0')}`;

            const endTime = new Date();
            endTime.setHours(roundedHours + 1);
            endTime.setMinutes(0); // Set minutes to 0
            const endHours = String(endTime.getHours()).padStart(2, '0');
            document.getElementById('endTime').value = `${endHours}:00`;

            // Calculate amount
            const amount = 100; // Amount per hour
            document.getElementById('amount').value = (1 * amount).toFixed(2); // Always 1 hour
        }
    });

    const fetchAllBookings = async () => {
        try {
            const response = await fetch('https://footballsite-apis-1.onrender.com/api/bookings');
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            const bookings = await response.json();
            const reversedBookings = bookings.reverse();

            return await reversedBookings; // Return the booking data
        } catch (error) {
            console.error('Error fetching bookings:', error);
            return []; // Return an empty array on error
        }
    };
    </script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const scheduleTableBody = document.querySelector('#scheduleTable tbody');

        // Function to fetch approved bookings
        const fetchBookings = async () => {
            try {
                const response = await fetch('https://footballsite-apis-1.onrender.com/api/bookings/approved');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
             
                const bookings = await response.json();
            const reversedBookings = bookings.reverse();
            
                populateTable(reversedBookings);
              //  populateTable(bookings);
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
            }
        };

        // Function to populate the table with booking data
        const populateTable = (bookings) => {
            scheduleTableBody.innerHTML = ''; // Clear any existing rows
            bookings.forEach(booking => {
                const row = document.createElement('tr');
                const fullName = `${booking.Firstname} ${booking.lastName}`; // Combine Firstname and Lastname
                row.innerHTML = `
                    <td>${new Date(booking.todayDate).toLocaleDateString()}</td> <!-- Format date -->
                    <td>${fullName}</td>
                    <td>${booking.startTime} - ${booking.endTime}</td>
                    <td>${booking.phone}</td>
                `;
                scheduleTableBody.appendChild(row);
            });
        };

        // Fetch bookings on page load
        fetchBookings();

        // Refresh bookings every 5 minutes (300000 milliseconds)
        setInterval(fetchBookings, 300000);
    });
</script>


</body>

</html>